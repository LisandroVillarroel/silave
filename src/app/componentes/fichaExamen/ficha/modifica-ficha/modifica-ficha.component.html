<h2 mat-dialog-title>MODIFICA FICHA - {{data.fichaC.numeroFicha}}</h2>
<mat-dialog-content [formGroup]="modificaFicha" name="modifica" class="modifica-container">
    <div class="row align-items-center ">
        <div class="col-md-12">
        <mat-form-field>
            <mat-select [formControl]="idCliente" placeholder="Seleccione Cliente" [compareWith]="comparaSeleccionaCliente" (selectionChange)="seleccionaCliente($event.value)" required>
            <mat-option *ngFor="let _cliente of datoCliente" [value]="_cliente">
                {{_cliente.nombreFantasia}}
            </mat-option>
            </mat-select>
            <mat-error *ngIf="idCliente.invalid">{{getErrorMessage('idCliente')}}</mat-error>
        </mat-form-field>
        </div>
    </div>

    <mat-divider class="mt-3 mb-3"></mat-divider>


    <div class="row align-items-center ">
      <div class="col-md-2 ">
        <mat-form-field>
          <input matInput class="input-rut rut" placeholder="Ingrese Rut Propietario" [formControl]="rutPropietario" oninput="this.value = this.value.toUpperCase()" (blur)="onBlurRutPropietario($event)" validaRut  >
          <mat-error *ngIf="rutPropietario.invalid">{{getErrorMessage('rutCliente')}}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-5 ">
        <mat-form-field>
          <input matInput placeholder="Ingrese Propietarioooo" [formControl]="nombrePropietario">
          <mat-error *ngIf="nombrePropietario.invalid">{{getErrorMessage('nombrePropietario')}}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-5">
        <mat-form-field>
          <input matInput placeholder="Ingrese Paciente" [formControl]="nombrePaciente" required>
          <mat-error *ngIf="nombrePaciente.invalid">{{getErrorMessage('nombrePaciente')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row align-items-center">
      <div class="col-md-4">
        <mat-form-field>
          <input matInput placeholder="Ingrese Edad" [formControl]="edad" required>
          <mat-error *ngIf="edad.invalid">{{getErrorMessage('edad')}}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-4 ">
        <mat-form-field>
          <mat-select [formControl]="idEspecie" placeholder="Seleccione Especie" [compareWith]="comparaSeleccionaEspecie" (selectionChange)="seleccionaEspecie($event.value)" required>
            <mat-option *ngFor="let _especie of datoEspecie" [value]="_especie">
              {{_especie.nombre}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="idEspecie.invalid">{{getErrorMessage('idEspecie')}}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-4 ">
        <mat-form-field>
          <mat-select [formControl]="idRaza" placeholder="Seleccione Raza" [compareWith]="comparaSeleccionaRaza" required>
            <mat-option *ngFor="let _raza of datoRaza" [value]="_raza">
              {{_raza.nombre}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="idRaza.invalid">{{getErrorMessage('idRaza')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

    <div class="row align-items-center">
      <div class="col-md-4 ">
        <mat-form-field>
          <mat-select [formControl]="sexo" placeholder="Seleccione Sexo" [compareWith]="comparaSeleccionaSexo" required>
            <mat-option *ngFor="let _sexo of datoSexo" [value]="_sexo.id">
              {{_sexo.nombre}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="sexo.invalid">{{getErrorMessage('sexo')}}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-8">
        <mat-form-field>
          <mat-select [formControl]="idDoctorSolicitante" placeholder="Seleccione Dr. Solicitante" [compareWith]="comparaSeleccionaDoctorSolicitante" required>
            <mat-option *ngFor="let _doctorSolicitante of datoDoctorSolicitante" [value]="_doctorSolicitante">
              {{_doctorSolicitante.nombre}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="idDoctorSolicitante.invalid">{{getErrorMessage('idDoctorSolicitante')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

    <mat-form-field>
      <input matInput placeholder="Ingrese Email Propietario" [formControl]="correoClienteFinal">
    </mat-form-field>

    <div class="row align-items-center">
      <div class="col-md-6 ">
        <mat-form-field>
          <mat-select [formControl]="idExamen" placeholder="Seleccione ExÃ¡men" [compareWith]="comparaSeleccionaExamen" (selectionChange)="seleccionaExamen($event.value)"  required>
            <mat-option *ngFor="let _examen of datoExamen" [value]="_examen">
              {{_examen.nombre}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="idExamen.invalid">{{getErrorMessage('idExamen')}}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-6">
        <mat-form-field>
          <mat-select [formControl]="idValidador" placeholder="Seleccione Validador" [compareWith]="comparaSeleccionaValidador">
            <mat-option *ngFor="let _validador of datoValidador" [value]="_validador">
              {{_validador.apellidoPaterno + ' ' + _validador.apellidoMaterno + ' ' + _validador.nombres}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="idValidador.invalid">{{getErrorMessage('idValidador')}}</mat-error>
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field>
          <mat-select [formControl]="idUsuario" placeholder="Seleccione Usuario Responsable Examen" [compareWith]="comparaSeleccionaUsuarioResponsable" >
            <mat-option *ngFor="let _usuario of datoUsuario" [value]="_usuario">
              {{ _usuario.nombres + ' ' + _usuario.apellidoPaterno + ' ' + _usuario.apellidoMaterno}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="idUsuario.invalid">{{getErrorMessage('idUsuario')}}</mat-error>
        </mat-form-field>
      </div>
    </div>

</mat-dialog-content>


<mat-dialog-actions>
  <div class="col-md-6">
    <button mat-raised-button class="colorFondoBotonCancelar"  mat-dialog-close  [disabled]=false>CANCELAR</button>
  </div>
  <div class="col-md-6">
    <button class="colorFondoBotonGrabar" mat-raised-button  (click)="enviar()"  [disabled]="modificaFicha.invalid">GRABAR</button>
  </div>
</mat-dialog-actions>




